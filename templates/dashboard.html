{% extends "base.html" %}
{% load static %}

{% block title %}ForgeLore â€” Overview{% endblock %}

{% block page_header %}
<div class="flex items-center justify-between">
  <div>
    <h1 class="text-xl font-semibold tracking-tight">Overview</h1>
    <p class="mt-1 text-sm text-gray-600">Monitor your research workspace at a glance.</p>
  </div>
  <div class="flex items-center gap-2">
    <a href="{% url 'projects_create' %}" class="inline-flex items-center rounded-md bg-brand-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-brand-700">New research</a>
    <a href="{% url 'experiments_create' %}" class="inline-flex items-center rounded-md border border-gray-300 px-3 py-2 text-sm font-semibold text-gray-800 hover:bg-gray-50">New experiment</a>
  </div>
  </div>
{% endblock %}

{% block content %}
<!-- KPI cards -->
<div class="mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
  <div class="rounded-lg border border-gray-200 bg-white p-4">
    <p class="text-xs text-gray-500">Projects</p>
    <p class="mt-2 text-2xl font-semibold">{{ projects_count }}</p>
  </div>
  <div class="rounded-lg border border-gray-200 bg-white p-4">
    <p class="text-xs text-gray-500">Literature reviews</p>
    <p class="mt-2 text-2xl font-semibold">{{ literature_count }}</p>
  </div>
  <div class="rounded-lg border border-gray-200 bg-white p-4">
    <p class="text-xs text-gray-500">Experiments run</p>
    <p class="mt-2 text-2xl font-semibold">{{ experiments_count }}</p>
  </div>

</div>

<!-- Quick actions -->
<div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
  <a href="#" class="group rounded-lg border border-gray-200 bg-white p-5 hover:border-gray-300 cursor-not-allowed opacity-50">
    <div class="flex items-center gap-3">
      <!-- Icon: Sparkles -->
      <svg class="h-5 w-5 text-gray-400 group-hover:text-gray-600" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path d="M5 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm9 2a1 1 0 100 2 1 1 0 000-2zM3 9a2 2 0 012-2h1a2 2 0 110 4H5a2 2 0 01-2-2zm11 1a3 3 0 100 6 3 3 0 000-6zM7 16a1 1 0 100 2 1 1 0 000-2z"/></svg>
      <div>
        <p class="font-medium">Start autonomous run</p>
        <p class="text-xs text-gray-500">Coming soon - full AI workflow</p>
      </div>
    </div>
  </a>
  <a href="{% url 'literature_search' %}" class="group rounded-lg border border-gray-200 bg-white p-5 hover:border-gray-300">
    <div class="flex items-center gap-3">
      <!-- Icon: Arrow Down Tray -->
      <svg class="h-5 w-5 text-gray-400 group-hover:text-gray-600" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M3 3a1 1 0 011-1h12a1 1 0 011 1v6a1 1 0 11-2 0V4H5v5a1 1 0 11-2 0V3zm6 5a1 1 0 112 0v4.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 011.414-1.414L9 12.586V8zM4 16a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1z" clip-rule="evenodd"/></svg>
      <div>
        <p class="font-medium">Search literature</p>
        <p class="text-xs text-gray-500">Find papers from arXiv & more</p>
      </div>
    </div>
  </a>
  <a href="{% url 'projects_create' %}" class="group rounded-lg border border-gray-200 bg-white p-5 hover:border-gray-300">
    <div class="flex items-center gap-3">
      <!-- Icon: Plus Circle -->
      <svg class="h-5 w-5 text-gray-400 group-hover:text-gray-600" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd"/></svg>
      <div>
        <p class="font-medium">New project</p>
        <p class="text-xs text-gray-500">Start a research project</p>
      </div>
    </div>
  </a>
</div>

<!-- Activity & Notes -->
<div class="mt-6 grid grid-cols-1 lg:grid-cols-3 gap-4">
  <div class="lg:col-span-2 rounded-lg border border-gray-200 bg-white p-5">
    <h3 class="text-sm font-semibold">Recent activity</h3>
    {% if activities %}
    <ul class="mt-4 space-y-3 text-sm">
      {% for activity in activities %}
      <li class="flex items-start gap-3">
        <span class="mt-1 inline-block h-2 w-2 rounded-full {{ activity.icon_color }}"></span>
        <div>
          {% if activity.url != "#" %}
          <a href="{{ activity.url }}" class="font-medium hover:text-brand-600">{{ activity.title }}</a>
          {% else %}
          <p class="font-medium">{{ activity.title }}</p>
          {% endif %}
          <p class="text-gray-500">{{ activity.timestamp|timesince }} ago</p>
        </div>
      </li>
      {% endfor %}
    </ul>
    {% else %}
    <div class="mt-4 text-sm text-gray-500">
      <p>No recent activity yet. Start by creating your first project!</p>
    </div>
    {% endif %}
  </div>
  <div class="rounded-lg border border-gray-200 bg-white p-5">
    <h3 class="text-sm font-semibold">Notes</h3>
    <p class="mt-2 text-sm text-gray-600">Keep assumptions, next steps, or review comments here.</p>
    <a href="#" class="mt-4 inline-flex items-center rounded-md border border-gray-300 px-3 py-2 text-sm font-medium hover:bg-gray-50">Add note</a>
  </div>
</div>
{% endblock %}


